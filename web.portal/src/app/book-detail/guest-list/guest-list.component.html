<div class="card mb-12 box-shadow">
  <div class="card-header d-flex justify-content-between">
    <h4 class="my-0 font-weight-normal"> Hóspedes</h4>
    <div class="btn-toolbar mb-2 mb-md-0">
      <button class="btn btn-sm btn-outline-warning" *ngIf="!flEdit" (click)="onEditGuest()">
        <span data-feather="calendar"></span>
        Alterar hóspedes
      </button>
      <button class="btn btn-sm btn-outline-secondary" *ngIf="flEdit" (click)="onEditGuest()">
        <span data-feather="calendar"></span>
        Cancelar
      </button>
      <button class="btn btn-sm btn-outline-success" *ngIf="flEdit" (click)="save()">
        <span data-feather="calendar"></span>
        Salvar
      </button>
    </div>
  </div>


  <div class="card-body" *ngIf="flEdit">

    <form #f="ngForm" (ngSubmit)="submit(f)" novalidate>
      <div class="form-row">
        <div class="col-3">
          <input type="text" class="form-control" placeholder="Cpf" name="cpf" [textMask]="{mask: maskCpf}" (focusout)="focusOutSearchGuest()"
            [(ngModel)]="guest.cpf" required>
        </div>
        <div class="col-6">
          <input type="text" class="form-control" placeholder="Nome" name="nome" [(ngModel)]="guest.nome" required>
        </div>
        <div class="col-3">
          <input type="text" class="form-control" placeholder="Celular" name="fone" [textMask]="{mask: maskPhone}" [(ngModel)]="guest.fone"
            required>
        </div>


      </div>
      <div class="form-row">
        <div class="col-1">
          <input type="text" class="form-control" placeholder="UF" name="uf" [(ngModel)]="guest.endereco.uf" required>
        </div>
        <div class="col-2">
          <input type="text" class="form-control" placeholder="Cidade" name="cidade" [(ngModel)]="guest.endereco.cidade" required>
        </div>
        <div class="col-1">
          <input type="text" class="form-control" placeholder="Prefixo" name="prefixo" [(ngModel)]="guest.endereco.prefixo" required>
        </div>
        <div class="col-3">
          <input type="text" class="form-control" placeholder="Logradouro" name="logradouro" [(ngModel)]="guest.endereco.logradouro"
            required>
        </div>
        <div class="col-1">
          <input type="text" class="form-control" placeholder="Numero" name="numero" [(ngModel)]="guest.endereco.numero" required>
        </div>
        <div class="col-2">
          <input type="text" class="form-control" placeholder="Bairro" name="bairro" [(ngModel)]="guest.endereco.bairro" required>
        </div>
        <div class="col-2">
          <input type="text" class="form-control" placeholder="CEP" name="cep" [textMask]="{mask: maskCep}" [(ngModel)]="guest.endereco.cep"
            required>
        </div>

      </div>
      <button type="button" class="btn btn-primary mb-2" (click)="addGuest()" [disabled]="!f.valid">Adicionar</button>
    </form>
  </div>

  <div class="card-body">
    <div class="table-responsive">
      <table class="table table-striped table-sm">
        <thead>
          <tr>
            <th>
              Cpf
            </th>
            <th>
              Nome
            </th>
            <th>
              Fone
            </th>
            <th>
              UF
            </th>
            <th>
              Cidade
            </th>
            <th>
              Endereço
            </th>
            <th>
              CEP
            </th>
            <th>

            </th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let g of guests">
            <td>{{g.cpf}}</td>
            <td>{{g.nome}}</td>
            <td>{{g.fone}}</td>
            <td>{{g.endereco.uf}}</td>
            <td>{{g.endereco.cidade}}</td>
            <td>{{g.endereco.prefixo}} {{g.endereco.logradouro}} - {{g.endereco.numero}}</td>
            <td>{{g.endereco.cep}}</td>
            <td>
              <a *ngIf="flEdit" (click)="removeGuest(g.id)" href="javascript:void(0);">
                <fa-icon [icon]="faTrashAlt"></fa-icon>Remover
              </a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>


</div>
